

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Utility Functions &mdash; dvt 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Cut Aggregators" href="aggregate/cut.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #268bd2" >
          

          
            <a href="index.html" class="icon icon-home"> dvt
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html"> Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html"> Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo.html"> Minimal Quickstart Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html"> Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="dvt.html"> API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dvt.html#annotations">Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="dvt.html#aggregators">Aggregators</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="dvt.html#utility-functions">Utility Functions</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Utility Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">dvt</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="dvt.html">Distant Viewing Toolkit (DVT): API Docs</a> &raquo;</li>
        
      <li>Utility Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dvt.utils">
<span id="utility-functions"></span><h1>Utility Functions<a class="headerlink" href="#module-dvt.utils" title="Permalink to this headline">¶</a></h1>
<p>Utility functions used across the Distant Viewing Toolkit.</p>
<dl class="class">
<dt id="dvt.utils.DictFrame">
<em class="property">class </em><code class="descclassname">dvt.utils.</code><code class="descname">DictFrame</code><span class="sig-paren">(</span><em>data=None</em>, <em>check=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#DictFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.DictFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.OrderedDict</span></code></p>
<p>Object for storing information from annotations.</p>
<p>A dictionary frame (DictFrame) is an extension of an ordered dictionary.
It has an additional shape attribute that provides the tuple (nrow, ncol).
The second attribute gives the number of items in the dictionary and is
equivalent to calling the length of the dictionary. The first describes
the size of the values in the dictionary. Every value should either be a
list of length nrow or a numpy array with a first dimension of nrow. Set
the check flag to True (the default) on construction to verify that these
parameters are valid.</p>
<p>If an new dictionary frame is constructed with an input value containing a
data type that is neither an array nor a list, the function attempts to
wrap the object in a list of length one. This will only produce a valid
output if all of the inputs are of length one. The behavior described here
is useful when stacking together individual observations, allowing users
to supply data of (for example) integers, strings, and floats.</p>
<p>When directly modifying this object, note that it is possible to break the
special structure of the dictionary. It is best to create new dictionary
frames using the constructor or the stack_dict_frames rather than modifying
the original data.</p>
<p>The design of a dictionary frame is inspired by R data frame, which allow
for columns containing matrices, and is simultaneously an extension and
stripped down version of a pandas data frame.</p>
<dl class="attribute">
<dt id="dvt.utils.DictFrame.data">
<code class="descname">data</code><a class="headerlink" href="#dvt.utils.DictFrame.data" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing elements that are either lists or
numpy arrays. All have the same length / first dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.utils.DictFrame.shape">
<code class="descname">shape</code><a class="headerlink" href="#dvt.utils.DictFrame.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of rows and columns in the dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.utils.DictFrame.todf">
<code class="descname">todf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#DictFrame.todf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.DictFrame.todf" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to pandas data frame.</p>
<p>Numpy arrays are expanded to conform with the structure of a pandas
data frame. Useful for saving as a CSV file and creating simple plots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A pandas data frame.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.utils.DictFrame.verify">
<code class="descname">verify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#DictFrame.verify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.DictFrame.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the shapes and types of the objects.</p>
<p>Checks that all of the values in the dictionary are either a list or
a numpy array. Also verifies the length (list) or first dimension
(numpy array) are equal to the number of columns describing the object.
Throws and assertion error if any of these are untrue.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dvt.utils.get_batch">
<code class="descclassname">dvt.utils.</code><code class="descname">get_batch</code><span class="sig-paren">(</span><em>input_obj</em>, <em>batch_num=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#get_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.get_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually extract a batch object from an input.</p>
<p>This function is mostly useful for testing new annotators. Generally,
batches should be sent to annotators by using the FrameProcesser.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_obj</strong> – A FrameInput object.</li>
<li><strong>batch_num</strong> – What batch number to take as the output. Default is 0, the
first batch.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The selected batch object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dvt.utils.pd_to_dict_frame">
<code class="descclassname">dvt.utils.</code><code class="descname">pd_to_dict_frame</code><span class="sig-paren">(</span><em>pdf</em>, <em>use_array=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#pd_to_dict_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.pd_to_dict_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a pandas data frame into a dictionary frame.</p>
<p>Useful for reading a csv file and reconverting into a dictionary frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>use_array</strong> (<em>bool</em>) – Should the function attempt to recreate the array
structure. Default to True. Currently unimplemented.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dvt.utils.setup_tensorflow">
<code class="descclassname">dvt.utils.</code><code class="descname">setup_tensorflow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#setup_tensorflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.setup_tensorflow" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup options for TensorFlow.</p>
<p>These options should allow most users to run TensorFlow with either a
GPU or CPU.</p>
</dd></dl>

<dl class="function">
<dt id="dvt.utils.stack_dict_frames">
<code class="descclassname">dvt.utils.</code><code class="descname">stack_dict_frames</code><span class="sig-paren">(</span><em>ilist</em>, <em>check=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#stack_dict_frames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.stack_dict_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine a list of objects into a dictionary frame.</p>
<p>The input list must consist of dictionary frames (or items that can
converted to dictionary frames) all containing the same set of keys and
corresponding data types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ilist</strong> (<em>list</em>) – A list of dictionary frames or items that can be
converted to a dictionary frame.</li>
<li><strong>check</strong> (<em>bool</em>) – Should checks be run on the dictionary frames. True by
default.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A single dictionary frame object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dvt.utils.sub_image">
<code class="descclassname">dvt.utils.</code><code class="descname">sub_image</code><span class="sig-paren">(</span><em>img</em>, <em>top</em>, <em>right</em>, <em>bottom</em>, <em>left</em>, <em>fct=1</em>, <em>output_shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dvt/utils.html#sub_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.utils.sub_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a subset of an input image and return a (resized) subimage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>img</strong> (<em>numpy array</em>) – Image stored as a three-dimensional image.</li>
<li><strong>top</strong> (<em>int</em>) – Top coordinate of the new image.</li>
<li><strong>right</strong> (<em>int</em>) – Right coordinate of the new image.</li>
<li><strong>bottom</strong> (<em>int</em>) – Bottom coordinate of the new image.</li>
<li><strong>left</strong> (<em>int</em>) – Left coordinate of the new image.</li>
<li><strong>fct</strong> (<em>float</em>) – Percentage to expand the bounding box by. Defaults to
1, using the input coordinates as given.</li>
<li><strong>output_shape</strong> (<em>tuple</em>) – Size to scale the output image, in pixels. Set
to None (default) to keep the native resolution.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A three-dimensional numpy array describing the new image.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="aggregate/cut.html" class="btn btn-neutral float-left" title="Cut Aggregators" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Taylor Arnold

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>