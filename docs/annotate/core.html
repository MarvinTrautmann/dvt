

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Generic Classes &mdash; dvt 0.0.8 documentation</title>
  

  
  
  
  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CieLAB Annotators" href="cielab.html" />
    <link rel="prev" title="Distant Viewing Toolkit (DVT): API Docs" href="../dvt.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #268bd2" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> dvt
          

          
          </a>

          
            
            
              <div class="version">
                0.0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html"> Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html"> Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo.html"> Minimal Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html"> Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../dvt.html"> API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../dvt.html#annotations">Annotations</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Generic Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="cielab.html">CieLAB Annotators</a></li>
<li class="toctree-l3"><a class="reference internal" href="clutter.html">Clutter Annotators</a></li>
<li class="toctree-l3"><a class="reference internal" href="diff.html">Frame Difference Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="embed.html">Embed Image Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="face.html">Face Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="hofm.html">Histograms of Optical Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="meta.html">Metadata Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="obj.html">Object Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="opticalflow.html">Dense Optical Flow Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="png.html">Png Annotations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dvt.html#aggregators">Aggregators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dvt.html#pipelines">Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dvt.html#utility-functions">Utility Functions</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dvt</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../dvt.html">Distant Viewing Toolkit (DVT): API Docs</a> &raquo;</li>
        
      <li>Generic Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/annotate/core.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-dvt.annotate.core">
<span id="generic-classes"></span><h1>Generic Classes<a class="headerlink" href="#module-dvt.annotate.core" title="Permalink to this headline">¶</a></h1>
<p>Core objects for processing video files in the Distant Viewing Toolkit.</p>
<p>This module provides the four main classes for processing a raw video file.
These are (i) FrameProcessor, (ii) FrameAnnotator, and (iii) FrameInput,
and (iv) FrameBatch. The basic pipeline is shown in the following example.</p>
<p>Extending the toolkit requires creating new subclasses of the FrameAnnotator
object, specifically by overriding the annotate method. This method in turn
requires working with a FrameBatch object. Most users should not need to modify
or follow the internal structure of the FrameProcessor and FrameInput objects.</p>
<p class="rubric">Example</p>
<p>Start by constructing a new input source by pointing to an existing video
file on disk.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fin</span> <span class="o">=</span> <span class="n">FrameInput</span><span class="p">(</span><span class="s2">&quot;input.mp4&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, construct a pipeline of annotators by starting with an empty
FrameProcessor and adding any number of FrameAnnotator objects.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span> <span class="o">=</span> <span class="n">FrameProcessor</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">load_annotator</span><span class="p">(</span><span class="n">FrameAnnotator</span><span class="p">())</span>
</pre></div>
</div>
<p>Next, process batches of the data from the input source. If logging is
turned on, this will generate verbose information as each annotator is
called on a particular batch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fp</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">fin</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, collect the annotated data as an ordered dictionary of DictFrame
objects.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">collect_all</span><span class="p">()</span>
</pre></div>
</div>
<p>Following the above sequence will not return any data because we only
loaded the default FrameAnnotator (it returns no data). The annotators
contained in the other sub-modules should be used to extract interesting
results from the source.</p>
<dl class="class">
<dt id="dvt.annotate.core.FrameAnnotator">
<em class="property">class </em><code class="descclassname">dvt.annotate.core.</code><code class="descname">FrameAnnotator</code><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for annotating a batch of frames.</p>
<dl class="attribute">
<dt id="dvt.annotate.core.FrameAnnotator.name">
<code class="descname">name</code><a class="headerlink" href="#dvt.annotate.core.FrameAnnotator.name" title="Permalink to this definition">¶</a></dt>
<dd><p>A description of the annotator, used as a key in the output
returned by a FrameProcessor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameAnnotator.cache">
<code class="descname">cache</code><a class="headerlink" href="#dvt.annotate.core.FrameAnnotator.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds internal state of the annotator. Used for passing
data between batches, which should be avoided whenever possible.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameAnnotator.annotate">
<code class="descname">annotate</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameAnnotator.annotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameAnnotator.annotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotate a batch of frames and return the resulting annotations.</p>
<p>This method contains the core functionality of an annotator. It takes
a batch of frames and returns the annotated output as a list object.
Lists from batch to batch will be appended together and collected by
calling stack_dict_frames.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>batch</strong> (<a class="reference internal" href="#dvt.annotate.core.FrameBatch" title="dvt.annotate.core.FrameBatch"><em>FrameBatch</em></a>) – A batch of images to annotate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The method should return a list of item(s) that can be combined
into a DictFrame. Specifically, the items should be dictionaries
with a consistent set of keys where all items have the same length
(or first shape value, in the case of numpy array). Can also return
None, in which case nothing is added to the current output.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameAnnotator.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameAnnotator.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameAnnotator.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the internal state of an annotator.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">name</code><em class="property"> = 'base'</em></dt>
<dd></dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameAnnotator.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>ival</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameAnnotator.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameAnnotator.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize internal state using metadata from the input.</p>
<p>Some annotators may need to perform an expensive sequence of set up
algorithms before processing data. Often the set up requires knowledge
about the input data. It is useful to do this just once, which can be
accomplished by putting the code in this method. It gets called once
when calling the process method of a FrameProcessor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ival</strong> – A FrameInput object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dvt.annotate.core.FrameBatch">
<em class="property">class </em><code class="descclassname">dvt.annotate.core.</code><code class="descname">FrameBatch</code><span class="sig-paren">(</span><em>img</em>, <em>vname</em>, <em>start</em>, <em>end</em>, <em>continue_read</em>, <em>fnames</em>, <em>bnum</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameBatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameBatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A collection of frames and associated metadata.</p>
<p>The batch contains an array of size (bsize * 2, width, height, 3). At the
start and end of the video file, the array is padded with zeros (an all
black frame). The batch includes twice as many frames as given in the
batch size, but an annotator should only return results from the first
half of the data (the “batch”). The other data is included for annotators
that need to look ahead of the current, such as the cut detectors.</p>
<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.img">
<code class="descname">img</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.img" title="Permalink to this definition">¶</a></dt>
<dd><p>A four-dimensional array containing pixels from the
next 2*bsize of images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">np.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.vname">
<code class="descname">vname</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.vname" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the video file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.start">
<code class="descname">start</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Time code at the start of the current batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.end">
<code class="descname">end</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Time code at the end of the current batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.continue_read">
<code class="descname">continue_read</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.continue_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether there more frames to read from
the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.fnames">
<code class="descname">fnames</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.fnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Names of frames in the batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.bsize">
<code class="descname">bsize</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.bsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameBatch.bnum">
<code class="descname">bnum</code><a class="headerlink" href="#dvt.annotate.core.FrameBatch.bnum" title="Permalink to this definition">¶</a></dt>
<dd><p>The batch number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameBatch.get_batch">
<code class="descname">get_batch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameBatch.get_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameBatch.get_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return image data for just the current batch.</p>
<p>Use this method unless you have a specific need to look ahead at new
values in the data. Images are given in RGB space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A four-dimensional array containing pixels from the current batch
of images.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameBatch.get_frame_names">
<code class="descname">get_frame_names</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameBatch.get_frame_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameBatch.get_frame_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return frame names for the current batch of data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of names of length equal to the batch size.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameBatch.get_frames">
<code class="descname">get_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameBatch.get_frames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameBatch.get_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entire image dataset for the batch.</p>
<p>Use this method if you need to look ahead at the following batch for
an annotator to work. Images are given in RGB space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A four-dimensional array containing pixels from the current and
next batches of data.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dvt.annotate.core.FrameInput">
<em class="property">class </em><code class="descclassname">dvt.annotate.core.</code><code class="descname">FrameInput</code><span class="sig-paren">(</span><em>input_path</em>, <em>bsize=256</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An input object for extracting batches of images from an input video.</p>
<p>Once initialized, subsequent calls to the next_batch method should be
called to cycle through batches of frames. The continue_read flag will be
turn false when all of data from the source has been returned within a
batch. Note that this does not include the look-ahead region. The final
batch will include padding by zeros (black) in this region.</p>
<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.bsize">
<code class="descname">bsize</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.bsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames in a batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.fcount">
<code class="descname">fcount</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.fcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Frame counter for the first frame in the current batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.vname">
<code class="descname">vname</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.vname" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the video file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.continue_read">
<code class="descname">continue_read</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.continue_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether there more frames to read from
the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.start">
<code class="descname">start</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Time code at the start of the current batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.end">
<code class="descname">end</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Time code at the end of the current batch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameInput.meta">
<code class="descname">meta</code><a class="headerlink" href="#dvt.annotate.core.FrameInput.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing additional metadata about the
video file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameInput.next_batch">
<code class="descname">next_batch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameInput.next_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameInput.next_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Move forward one batch and return the current FrameBatch object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A FrameBatch object that contains the next set of frames.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dvt.annotate.core.FrameProcessor">
<em class="property">class </em><code class="descclassname">dvt.annotate.core.</code><code class="descname">FrameProcessor</code><span class="sig-paren">(</span><em>pipeline=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Run a pipeline of annotators over batches of frames.</p>
<dl class="attribute">
<dt id="dvt.annotate.core.FrameProcessor.pipeline">
<code class="descname">pipeline</code><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>FrameAnnotator objects to run over the inputs.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">OrderedDict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.FrameProcessor.output">
<code class="descname">output</code><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.output" title="Permalink to this definition">¶</a></dt>
<dd><p>DictFrame objects containing the annotations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">OrderedDict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameProcessor.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameProcessor.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the pipeline of annotators and remove all output.</p>
<p>Runs the clear method of each annotator and resets the pipeline and
output attributes. Useful for recovering memory on the GPU when running
a collection of large models.</p>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameProcessor.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>aname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameProcessor.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect output from a specific annotator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>aname</strong> (<em>str</em>) – Name of the annotator from which to collect the data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A DictFrame object with the results.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameProcessor.collect_all">
<code class="descname">collect_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameProcessor.collect_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.collect_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect output from all available annotators.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An ordered dictionary with elements that are DictFrame objects. The
names of the entries are given by the annotator names in the
pipeline.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameProcessor.load_annotator">
<code class="descname">load_annotator</code><span class="sig-paren">(</span><em>annotator</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameProcessor.load_annotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.load_annotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an annotator to the end of the pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>annotator</strong> (<a class="reference internal" href="#dvt.annotate.core.FrameAnnotator" title="dvt.annotate.core.FrameAnnotator"><em>FrameAnnotator</em></a>) – annotator to add into the pipeline.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.FrameProcessor.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>input_obj</em>, <em>max_batch=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#FrameProcessor.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.FrameProcessor.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Run annotators over an input object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_obj</strong> (<a class="reference internal" href="#dvt.annotate.core.FrameInput" title="dvt.annotate.core.FrameInput"><em>FrameInput</em></a>) – The input source for batches of data.</li>
<li><strong>max_batch</strong> (<em>int</em>) – The maximum number of batches to process from the
input. The default value (None) sets no limit on the total
number of batches.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dvt.annotate.core.ImageInput">
<em class="property">class </em><code class="descclassname">dvt.annotate.core.</code><code class="descname">ImageInput</code><span class="sig-paren">(</span><em>input_paths</em>, <em>vname=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#ImageInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.ImageInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An input object for create batches of images from input images.</p>
<p>Once initialized, subsequent calls to the next_batch method should be
called to cycle through batches of frames. The continue_read flag will be
turn false when all of data from the sources has been returned. Note that
the batch will always be of size 1 and include a look-ahead region of all
black pixels. This is needed because not all images will be the same size.</p>
<dl class="attribute">
<dt id="dvt.annotate.core.ImageInput.bsize">
<code class="descname">bsize</code><a class="headerlink" href="#dvt.annotate.core.ImageInput.bsize" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames in a batch. Always 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.ImageInput.vname">
<code class="descname">vname</code><a class="headerlink" href="#dvt.annotate.core.ImageInput.vname" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the video file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.ImageInput.continue_read">
<code class="descname">continue_read</code><a class="headerlink" href="#dvt.annotate.core.ImageInput.continue_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether there more frames to read from
the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.ImageInput.fcount">
<code class="descname">fcount</code><a class="headerlink" href="#dvt.annotate.core.ImageInput.fcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Pointer to the next image to return.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dvt.annotate.core.ImageInput.meta">
<code class="descname">meta</code><a class="headerlink" href="#dvt.annotate.core.ImageInput.meta" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing additional metadata about the
input images.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dvt.annotate.core.ImageInput.next_batch">
<code class="descname">next_batch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dvt/annotate/core.html#ImageInput.next_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dvt.annotate.core.ImageInput.next_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Move forward one batch and return the current FrameBatch object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A FrameBatch object that contains the next set of frames.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cielab.html" class="btn btn-neutral float-right" title="CieLAB Annotators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../dvt.html" class="btn btn-neutral float-left" title="Distant Viewing Toolkit (DVT): API Docs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Taylor Arnold and Lauren Tilton

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>